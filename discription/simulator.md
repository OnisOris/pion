# Симулятор материальной точки

Эти классы представляют собой симулятор, моделирующий поведение 
материальных точек в пространстве. 
Реализованы классы для описания точек, расчета их движения и управления симуляцией с использованием различных подходов, включая многопоточность и синхронизацию с реальным временем.

## Описание классов

### `Point`
Класс, представляющий материальную точку.

**Атрибуты:**
- `mass` — масса точки.
- `position` — начальная позиция точки в пространстве (2D или 3D).
- `speed` — начальная скорость точки.
- `trajectory_write` — флаг записи траектории.

**Методы:**
- `rk4_step(acceleration, dt)` — расчет движения точки методом Рунге-Кутты 4-го порядка.
- `step(force, dt)` — расчет нового положения и скорости точки под воздействием силы.
- `get_trajectory()` — возвращает записанную траекторию.

### `Simulator`
Основной класс для запуска симуляции.

**Атрибуты:**
- `simulation_objects` — массив объектов, представляющих материальные точки.
- `dt` — временной шаг симуляции.
- `forces` — массив сил, приложенных к объектам.

**Методы:**
- `start_simulation_while()` — запускает симуляцию с бесконечным циклом `while`.
- `start_simulation_for(steps)` — запускает симуляцию с фиксированным числом шагов.
- `step(simulation_object, object_channel)` — выполняет один шаг симуляции для заданного объекта.
- `set_force(force, object_channel)` — задает силу для конкретного объекта.
- `get_position()` — возвращает текущие позиции всех объектов.

### `Simulator_th`
Класс для симуляции с использованием многопоточности.

**Особенности:**
- Все объекты симуляции обрабатываются в отдельных потоках.

### `Simulator_realtime`
Класс для симуляции с синхронизацией с реальным временем.

**Особенности:**
- Учет времени для обеспечения синхронизации с реальными временными интервалами.

### `Simulator_realtime_th`
Комбинированный класс, реализующий многопоточность и синхронизацию с реальным временем.

### `Trajectory_writer`
Класс для записи и хранения траекторий.

**Атрибуты:**
- `columns` — названия колонок траектории.
- `trajectory` — массив для хранения траектории.

**Методы:**
- `vstack(vstack_array)` — добавляет новую точку в массив траекторий.
- `get_trajectory()` — возвращает текущую траекторию.

## Как использовать

1. Создайте объекты `Point` с заданными параметрами.
2. Инициализируйте объект симулятора, передав в него массив точек и другие параметры.
3. Запустите симуляцию с использованием подходящего метода (`start_simulation_while` или `start_simulation_for`).
4. Используйте методы `set_force` и `get_position` для управления точками и анализа результатов.

## Пример

```python
import numpy as np
from pion.simulator import Point, Simulator

# Создаем материальные точки
point1 = Point(mass=1, position=np.array([0, 0, 0]), speed=np.array([1, 0, 0]))
point2 = Point(mass=2, position=np.array([0, 0, 1]), speed=np.array([0, 1, 0]))

# Инициализируем симулятор
sim = Simulator(simulation_objects=np.array([point1, point2]), dt=0.01)

# Устанавливаем силу для точки
sim.set_force(np.array([0, -9.8, 0]), object_channel=0)

# Запускаем симуляцию на 100 шагов
sim.start_simulation_for(steps=100)

# Получаем результаты
positions = sim.get_position()
print(positions)
```
